<nz-page-header nzTitle="New Scan">
</nz-page-header>
<nz-breadcrumb style="margin: 16px;">
  <nz-breadcrumb-item>Address Scan</nz-breadcrumb-item>
  <nz-breadcrumb-item>New Scan</nz-breadcrumb-item>
</nz-breadcrumb>
<nz-content style="margin:24px 16px 0;">
  <div style="padding:24px; background: #fff; min-height: 550px;">
    <div nz-row>
      <div nz-col nzSpan="12" nzOffset="6">
        <nz-card nzTitle="Start a new address scan">
          <div *ngIf="showQuota">
            Usage Quota:
            <nz-progress
              nz-tooltip
              [nzTitle]="usageQuota"
              [nzPercent]="usageQuotaPercent"
            ></nz-progress>
          </div>
          <form nz-form [formGroup]="form">

            <nz-form-item>
              <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="scanType">Type</nz-form-label>
              <nz-form-control [nzSm]="14" [nzXs]="24">
                <nz-radio-group formControlName="scanType" id="scanType">
                  <label nz-radio-button nzValue="BTC"><span>BTC</span></label>
                  <label nz-radio-button nzValue="ETH"><span>ETH</span></label>
                  <label nz-radio-button nzValue="XRP"><span>XRP</span></label>
                </nz-radio-group>
              </nz-form-control>

            </nz-form-item>
            <nz-form-item>
              <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="address">Address</nz-form-label>
              <nz-form-control [nzSm]="14" [nzXs]="24">
                <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
                  <input nz-input formControlName="address" id="address"/>
                </nz-input-group>
                <ng-template #suffixIconButton>
                  <button nz-button nzType="primary" nzSearch (click)="qrScan()"><i nz-icon type="qrcode"></i></button>
                </ng-template>
                <nz-form-explain *ngIf="form.get('address')?.dirty && form.get('address')?.errors">
                  The input is not a valid address!
                </nz-form-explain>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item style="margin-top: 32px;">
              <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="maxLevel">Max Level</nz-form-label>
              <nz-form-control [nzSm]="14" [nzXs]="24">
                <nz-slider formControlName="maxLevel" id="maxLevel" [nzDefaultValue]="3" [nzTooltipVisible]="'always'"
                           [nzMin]="2" [nzMax]="10" [nzStep]="1"></nz-slider>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item>
              <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="dateRange">Range</nz-form-label>
              <nz-form-control [nzSm]="14" [nzXs]="24">
                <nz-range-picker formControlName="dateRange" id="dateRange"></nz-range-picker>
              </nz-form-control>
            </nz-form-item>
            <nz-form-item>
              <nz-form-control [nzSm]="{ span: 16, offset: 6 }" [nzXs]="{ span: 24, offset: 0 }"
                               style="text-align: right;">
                <button nz-button nzType="default" (click)="clearForm()" [disabled]="isSubmitting">Reset</button>
                <button nz-button nzType="primary" [nzLoading]="isSubmitting" (click)="submitForm()">Scan</button>
              </nz-form-control>
            </nz-form-item>
          </form>
        </nz-card>


      </div>
    </div>

  </div>
</nz-content>
